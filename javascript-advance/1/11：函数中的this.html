<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Maaya</title>
	<style type='text/css'>
		/*
		 *
		 */
	</style>
	<script type='text/javascript'>
		/*
		 * this是什么?
		 *  -1、任何函数本质上都是通过某个对象调用，既必须由对象调用，默认的是window
		 *  -2、所有函数内部都有一个变量this
		 *  -3、它的值是调用函数的当前对象
		 * 如何确定this的值?
		 *  -test() : window
		 *  -p.test() : p
		 *  -new test() : p
		 *  -new test() : 新创建的对象
		 *  -p.call(obj) ： obj
		 * 
		 * 
		 */
		 function Person(color){
			 console.log(this)
			 this.color = color; //red
			 this.getcolor = function(){
				 console.log(this) //getcolor
				 return this.color;
			 };
			 this.setcolor = function(color){
				 console.log(this) //setcolor
				 this.color = color; //red
			 }
		 }
		 Preson('red')//this 是谁? window
		 var p = new Person('yello'); //this是谁? p
		 p.getcolor();//this是谁？
		 var obj = {};
		 p.setcolor.call(obj,'black');//this是谁? obj
		 var test = p.setcolor;
		 test();//this是谁? window

		 function fun1(){
			function fun2(){
				console.log(this);
			}
		 }
		 fun2();//this是谁? window
		 fun1();//this是谁? window
	</script>
<body>
	<!-- 
		-->
</body>
</html>