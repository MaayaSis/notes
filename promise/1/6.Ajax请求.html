<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Maaya</title>
	<style type='text/css'>
		/*
		 */
	</style>
	<script type='text/javascript'>
		/*
		 */
		window.onload = function () {
			const btn = document.querySelector('#btn');
			btn.addEventListener('click', function () {
				const p = new Promise((resolve, reject) => {
					const xhr = new XMLHttpRequest();
					xhr.open('GET', 'https://api.apiopen.top/getJoke');
					xhr.send();
					xhr.onreadystatechange = function () {
						if (xhr.readyState === 4) {
							if (xhr.status >= 200 && xhr.status < 300) {
								resolve(xhr.response);
							} else {
								reject(xhr.status);
							}
						}
					}
				});
				p.then(value => {
					console.log(value);
				}, reason => {
					console.warn(reason);
				});
			});
		}
	</script>

<body>
	<!-- 
	-->
	<button id="btn">发送Ajax</button>
</body>

</html>